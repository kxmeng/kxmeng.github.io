<!DOCTYPE html>
<html>
	<head>
		<title>KXM Maths</title>
		<!-- Google Font -->
		<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
		<!-- MathJax script (x2) -->
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
		<!-- Barba js library for page transitions -->
		<script src="https://unpkg.com/@barba/core"></script>
		<!-- GSAP js library for animations --> 
		<script src="https://unpkg.com/gsap@latest/dist/gsap.min.js"></script>
		<script type="text/javascript">
			let clickFunction = function(item) {
				// If first time this is used, run MathJax
				if(document.getElementsByClassName("sidebar-active").length == 0) {
					MathJax.typeset();
				};
				// If there is already a highlighted sidebar item, unhighlight it
				if(document.getElementsByClassName("sidebar-active").length !== 0) {
					document.getElementsByClassName("sidebar-active")[0].classList.remove("sidebar-active");
				};
				// Highlight this sidebar item
				item.classList.add("sidebar-active");
				// Find the main area on the page
				let mainDiv = document.getElementById("mid");
				let subDiv = document.getElementById("sub");
				// Set height main div to transparent for a nice transition
				mainDiv.classList.add("zero-opacity");
				subDiv.classList.add("zero-opacity");
				// Find the div of the selected topic and make a copy of it (appendChild will move the div otherwise and it will get deleted later)
				let newDiv = document.getElementById(item.id + "-content").cloneNode(true);
				let newSubDiv = document.getElementById(item.id + "-resources").cloneNode(true);
				// Delay the rest of this so there is time to see the transition
				setTimeout(function(){
					// Delete everything in the main body of the page
					mainDiv.innerHTML = "";
					subDiv.innerHTML = "";
					// Add the topic div to the main body of the page
					mainDiv.appendChild(newDiv);
					subDiv.appendChild(newSubDiv);
					// Stop the main area from being transparent
					mainDiv.classList.remove("zero-opacity");
					subDiv.classList.remove("zero-opacity");
				},250);
			};
		</script>
		<link rel="stylesheet" type="text/css" href="./style.css" />
		
	</head>
	<body data-barba="wrapper">
		<!-- put here content that will not change between your pages, like <header> or <nav> -->

		<main data-barba="container" data-barba-namespace="home" id="home">
			<!-- put here the content you wish to change between your pages, like your main content <h1> or <p> -->
			<h1>This is home page tests</h1>
			<a href="./y8/index.html" id="y8-page">Year 8</a>
			<a href="./y9/index.html" id="y9-page">Year 9</a>
			<a href="./y10/index.html" id="y10-page">Year 10</a>
			<a href="./al/index.html" id="al-page">Single</a>
			<a href="./fm/index.html" id="fm-page">Further</a>
		</main>

		<!-- put here content that will not change between your pages, like <footer> -->
		<script type="text/javascript">
			barba.init({
				transitions: [
					{
						name: 'y8-transition',
						to: {
							namespace: [
								"y8-page"
							]
						},
						leave(data) {
							return gsap.to("#y8-page", {
								fontSize: "5em", position: "fixed", left: "-500%", top: "-500", height: "1000%", width: "1000%", color: "rgba(127, 231, 204, 1)", duration: 0.4, borderRadius: "1000%",
							});
						}
					},
					{
						name: 'y9-transition',
						to: {
							namespace: [
								"y9-page"
							]
						},
						leave(data) {
							return gsap.to("#y9-page", {
								fontSize: "5em", position: "fixed", left: "-500%", top: "-500", height: "1000%", width: "1000%", color: "rgba(220, 118, 132, 1)", duration: 0.4, borderRadius: "1000%",
							});
						}
					},
					{
						name: 'y10-transition',
						to: {
							namespace: [
								"y10-page"
							]
						},
						leave(data) {
							return gsap.to("#y10-page", {
								fontSize: "5em", position: "fixed", left: "-500%", top: "-500", height: "1000%", width: "1000%", color: "rgba(246, 162, 78, 1)", duration: 0.4, borderRadius: "1000%",
							});
						}
					},
					{
						name: 'al-transition',
						to: {
							namespace: [
								"al-page"
							]
						},
						leave(data) {
							return gsap.to("#al-page", {
								fontSize: "5em", position: "fixed", left: "-500%", top: "-500", height: "1000%", width: "1000%", color: "rgba(104, 134, 197, 1)", duration: 0.4, borderRadius: "1000%",
							});
						}
					},
					{
						name: 'fm-transition',
						to: {
							namespace: [
								"fm-page"
							]
						},
						leave(data) {
							return gsap.to("#fm-page", {
								fontSize: "5em", position: "fixed", left: "-500%", top: "-500", height: "1000%", width: "1000%", color: "rgba(114, 106, 149, 1)", duration: 0.4, borderRadius: "1000%",
							});
						}
					}
				]
			});
		</script>
	</body>
</html>
