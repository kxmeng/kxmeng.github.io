<!DOCTYPE html>
<html>
	<head>
		<title>KXM Maths</title>
		<!-- Google Font -->
		<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
		<!-- MathJax script (x2) -->
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
		<!-- Barba js library for page transitions -->
		<script src="https://unpkg.com/@barba/core"></script>
		<!-- GSAP js library for animations --> 
		<script src="https://unpkg.com/gsap@latest/dist/gsap.min.js"></script>
		<script type="text/javascript">
			let clickFunction = function(item) {
				// If there is already a highlighted sidebar item, unhighlight it
				if(document.getElementsByClassName("sidebar-active").length !== 0) {
					document.getElementsByClassName("sidebar-active")[0].classList.remove("sidebar-active");
				};
				// Highlight this sidebar item
				item.classList.add("sidebar-active");
				// Find the main area on the page
				let mainDiv = document.getElementById("mid");
				let subDiv = document.getElementById("resources");
				// Set height main div to transparent for a nice transition
				mainDiv.classList.add("zero-opacity");
				subDiv.classList.add("zero-opacity");
				// Find the div of the selected topic and make a copy of it (appendChild will move the div otherwise and it will get deleted later)
				let newDiv = document.getElementById(item.id + "-content").cloneNode(true);
				let newSubDiv = document.getElementById(item.id + "-resources").cloneNode(true);
				// Delay the rest of this so there is time to see the transition
				setTimeout(function(){
					// Delete everything in the main body of the page
					mainDiv.innerHTML = "";
					subDiv.innerHTML = "";
					// Add the topic div to the main body of the page
					mainDiv.appendChild(newDiv);
					subDiv.appendChild(newSubDiv);
					// Stop the main area from being transparent
					mainDiv.classList.remove("zero-opacity");
					subDiv.classList.remove("zero-opacity");
				},250);
			};
		</script>
		<link rel="stylesheet" type="text/css" href="/y9/style.css" />
		
	</head>
	<body data-barba="wrapper">
		<!-- put here content that will not change between your pages, like <header> or <nav> -->

		<main data-barba="container" data-barba-namespace="home">
			<!-- put here the content you wish to change between your pages, like your main content <h1> or <p> -->
			<h1>This is home page</h1>
			<p>
				home page
			</p>
			<a href="./test1.html">Go to test1</a>
			<a href="./test2.html">Go to test2</a>
			<a href="./y9/index.html" id="y9-link" style="background-color: rgba(144,169,89,1); position: fixed; height: 5em; width: 5em;">Go to y9</a>
		</main>

		<!-- put here content that will not change between your pages, like <footer> -->
		<script type="text/javascript">
			barba.init({
				transitions: [{
					name: 'opacity-transition',
					leave(data) {
						return gsap.to("#y9-link", {
							fontSize: "5em", position: "fixed", left: "-500%", top: "-500", height: "1000%", width: "1000%", color: "rgba(144,169,89,1)", duration: 0.4, borderRadius: "1000%",
						});
					},
					enter(data) {

					}
				}]
			});
			barba.hooks.after((data) => {
				let js = document.querySelectorAll('#main script');
				if(js != null){
					js.forEach((item) => {
						eval(item.innerHTML);
					});
				}
			});
		</script>
	</body>
</html>
